<!DOCTYPE html>
<html lang="zh-CN">

<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no" />

  <!-- PWA Meta Tags -->
  <meta name="theme-color" content="#7b00ff" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent" />
  <meta name="apple-mobile-web-app-title" content="健康助手" />
  <link rel="apple-touch-icon" href="/icon-512.png" />
  <link rel="manifest" href="/manifest.json" />

  <title>健康助手</title>
  <link rel="icon" type="image/png" href="/icon-512.png" />
  <script src="https://cdn.tailwindcss.com?plugins=forms,container-queries"></script>
  <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+SC:wght@300;400;500;700&display=swap"
    rel="stylesheet" />
  <link href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:wght,FILL@100..700,0..1&display=swap"
    rel="stylesheet" />
  <script>
    tailwind.config = {
      darkMode: "class",
      theme: {
        extend: {
          colors: {
            "primary": "#7b00ff",
            "primary-dark": "#6a00db",
            "background-light": "#f7f5f8",
            "background-dark": "#190f23",
          },
          fontFamily: {
            "display": ["Noto Sans SC", "PingFang SC", "Microsoft YaHei", "sans-serif"],
            "sans": ["Noto Sans SC", "PingFang SC", "Microsoft YaHei", "sans-serif"]
          },
          borderRadius: { "DEFAULT": "0.25rem", "lg": "0.5rem", "xl": "0.75rem", "full": "9999px" },
          boxShadow: {
            'glow': '0 0 0 4px rgba(123, 0, 255, 0.15)',
          }
        },
      },
    }
  </script>
  <style>
    body {
      min-height: 100dvh;
      overscroll-behavior-y: none;
      -webkit-tap-highlight-color: transparent;
    }

    .no-scrollbar::-webkit-scrollbar {
      display: none;
    }

    .no-scrollbar {
      -ms-overflow-style: none;
      scrollbar-width: none;
    }

    .pb-safe {
      padding-bottom: env(safe-area-inset-bottom, 20px);
    }

    /* Loading animation */
    #app-loader {
      position: fixed;
      inset: 0;
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      background: linear-gradient(135deg, #7b00ff 0%, #5a00cc 100%);
      z-index: 9999;
      transition: opacity 0.3s ease-out;
    }

    #app-loader.hidden {
      opacity: 0;
      pointer-events: none;
    }

    .loader-pulse {
      width: 80px;
      height: 80px;
      background: rgba(255, 255, 255, 0.2);
      border-radius: 50%;
      animation: pulse 1.5s ease-in-out infinite;
    }

    .loader-icon {
      position: absolute;
      font-size: 40px;
      color: white;
    }

    .loader-text {
      margin-top: 24px;
      color: white;
      font-size: 16px;
      font-weight: 500;
      opacity: 0.9;
    }

    @keyframes pulse {

      0%,
      100% {
        transform: scale(1);
        opacity: 0.8;
      }

      50% {
        transform: scale(1.2);
        opacity: 0.4;
      }
    }
  </style>
</head>

<body
  class="bg-background-light dark:bg-background-dark font-display text-[#140c1d] dark:text-white antialiased selection:bg-primary/20">
  <!-- Loading Screen -->
  <div id="app-loader">
    <div style="position: relative; display: flex; align-items: center; justify-content: center;">
      <div class="loader-pulse"></div>
      <span class="loader-icon material-symbols-outlined">favorite</span>
    </div>
    <p class="loader-text">健康助手加载中...</p>
  </div>

  <div id="root"></div>
  <script type="module" src="/index.tsx"></script>
  <script>
    // Hide loader when app is ready
    window.addEventListener('load', function () {
      setTimeout(function () {
        var loader = document.getElementById('app-loader');
        if (loader) {
          loader.classList.add('hidden');
          setTimeout(function () { loader.remove(); }, 300);
        }
      }, 500);
    });
  </script>
</body>

</html>